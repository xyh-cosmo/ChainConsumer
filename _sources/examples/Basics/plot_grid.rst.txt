

.. _sphx_glr_examples_Basics_plot_grid.py:


==========
Grid Data!
==========

If you don't have Monte Carlo chains, and have grid evaluations instead, that's fine too!

Just flatten your grid, set the weights to the grid evaluation, and set the grid flag. Here is
a nice diamond that you get from modifying a simple multivariate normal distribution.

Note that by default, grid data is not smoothed, though you can explicitly set the smooth
parameter in ``configure_general`` if you do want smoothing.

Note that you *cannot* use dictionary input with the grid method and not specify the full
flattened array. This is because we cannot construct the meshgrid from a dictionary, as
the order of the parameters is not preserved in the dictionary.




.. code-block:: python

    import numpy as np
    from chainconsumer import ChainConsumer


    x, y = np.linspace(-3, 3, 50), np.linspace(-7, 7, 100)
    xx, yy = np.meshgrid(x, y, indexing='ij')
    pdf = np.exp(-0.5 * (xx * xx + yy * yy / 4 + np.abs(xx * yy)))

    c = ChainConsumer()
    c.add_chain([x, y], parameters=["$x$", "$y$"], weights=pdf, grid=True)
    fig = c.plotter.plot()
    fig.set_size_inches(4.5 + fig.get_size_inches())  # Resize fig for doco. You don't need this.




.. image:: /examples/Basics/images/sphx_glr_plot_grid_001.png
    :align: center




If you have the flattened array already, you can also pass this



.. code-block:: python


    # Turning 2D data to flat data.
    xs, ys = xx.flatten(), yy.flatten()
    pdf_flat = pdf.flatten()
    c = ChainConsumer()
    c.add_chain([xs, ys], parameters=["$x$", "$y$"], weights=pdf_flat, grid=True)
    c.configure(smooth=1)  # Notice how smoothing changes the results!
    fig = c.plotter.plot()

    fig.set_size_inches(4.5 + fig.get_size_inches())  # Resize fig for doco. You don't need this.



.. image:: /examples/Basics/images/sphx_glr_plot_grid_002.png
    :align: center




**Total running time of the script:** ( 0 minutes  1.003 seconds)



.. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_grid.py <plot_grid.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_grid.ipynb <plot_grid.ipynb>`

.. rst-class:: sphx-glr-signature

    `Generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
