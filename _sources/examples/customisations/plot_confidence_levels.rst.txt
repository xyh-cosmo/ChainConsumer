

.. _sphx_glr_examples_customisations_plot_confidence_levels.py:


=================
Confidence Levels
=================

When setting the sigma levels for ChainConsumer, we need to be careful
if we are talking about 1D or 2D Gaussians. For 1D Gaussians, 1 and 2 :math:`\sigma` correspond
to 68% and 95% confidence levels. However, for a a 2D Gaussian, integrating over 1 and 2 :math:`\sigma`
levels gives 39% and 86% confidence levels.

By default ChainConsumer uses the 2D levels, such that the contours will line up and agree with the
marginalised distributions shown above them, however you can also choose to switch to using the 1D
Gaussian method, such that the contour encloses 68% and 95% confidence regions, by switching `sigma2d` to `False` 




.. code-block:: python


    import numpy as np
    from numpy.random import multivariate_normal
    from chainconsumer import ChainConsumer

    np.random.seed(0)
    data = multivariate_normal([0, 0], [[1, 0], [0, 1]], size=1000000)

    c = ChainConsumer().add_chain(data, parameters=["$x$", "$y$"])
    c.configure(flip=False, sigma2d=True, sigmas=[0, 1, 2])  # The default case, so you don't need to specify sigma2d
    fig = c.plotter.plot()

    fig.set_size_inches(4.5 + fig.get_size_inches())  # Resize fig for doco. You don't need this.




.. image:: /examples/customisations/images/sphx_glr_plot_confidence_levels_001.png
    :align: center




Demonstrating the 1D Gaussian confidence levels. Notice the change in contour size
The contours shown below now show the 68% and 95% confidence regions.



.. code-block:: python


    c = ChainConsumer().add_chain(data, parameters=["$x$", "$y$"])
    c.configure(flip=False, sigma2d=False, sigmas=[0, 1, 2])  # The default case, so you don't need to specify sigma2d
    fig = c.plotter.plot()


    fig.set_size_inches(4.5 + fig.get_size_inches())  # Resize fig for doco. You don't need this.



.. image:: /examples/customisations/images/sphx_glr_plot_confidence_levels_002.png
    :align: center




**Total running time of the script:** ( 0 minutes  2.717 seconds)



.. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_confidence_levels.py <plot_confidence_levels.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_confidence_levels.ipynb <plot_confidence_levels.ipynb>`

.. rst-class:: sphx-glr-signature

    `Generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
